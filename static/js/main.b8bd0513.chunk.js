(this["webpackJsonpgoogle-books"]=this["webpackJsonpgoogle-books"]||[]).push([[0],{15:function(e,t,o){},16:function(e,t,o){},18:function(e,t,o){},19:function(e,t,o){},22:function(e,t,o){"use strict";o.r(t);var c=o(8),s=o.n(c),n=o(4),a=o.n(n),r=o(5),i=o(3),l=o(1);function u(e,t,o){return j.apply(this,arguments)}function j(){return(j=Object(r.a)(a.a.mark((function e(t,o,c){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(t,"+subject:").concat(c,"&orderBy=").concat(o,"&maxResults=30")).then((function(e){return e.json()}));case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o(15),o(16);var d=o(0),b=function(e){var t,o,c,s=e.book,n=e.changePage,a=e.test,r=s.volumeInfo;return Object(d.jsxs)("div",{className:"BookCard",children:[Object(d.jsx)("div",{children:Object(d.jsx)("a",{href:r.previewLink,target:"_blank",rel:"noreferrer",className:"BookCard__link",children:Object(d.jsx)("img",{title:"Search in google books",className:"BookCard__img",src:(null===(t=r.imageLinks)||void 0===t?void 0:t.thumbnail)||"https://ruslania.com/pictures/books_photos/30/309288/9785917615868_l.jpg",alt:"Book cover"})})}),Object(d.jsxs)("div",{className:"BookCard__info",children:[Object(d.jsx)("p",{className:"BookCard__info--category",children:(null===(o=r.categories)||void 0===o?void 0:o.filter((function(e){return e[0]})))||"No category"}),Object(d.jsx)("h3",{className:"BookCard__info--title",title:"More about the book",onClick:function(){n(),a(s)},children:r.title}),Object(d.jsx)("p",{className:"BookCard__info--autor",children:null===(c=r.authors)||void 0===c?void 0:c.map((function(e){return e})).join(", ")})]})]})},h=(o(18),function(e){var t,o=e.changePage,c=e.book,s=c.volumeInfo,n=s.imageLinks,a=(null===n||void 0===n?void 0:n.extraLarge)||(null===n||void 0===n?void 0:n.large)||(null===n||void 0===n?void 0:n.medium)||(null===n||void 0===n?void 0:n.small)||(null===n||void 0===n?void 0:n.smallThumbnail)||(null===n||void 0===n?void 0:n.thumbnail);return Object(d.jsxs)("div",{className:"CurrentBook",children:[Object(d.jsxs)("h2",{className:"CurrentBook__title",onClick:o,children:["Return to books list",console.log(s)]}),Object(d.jsxs)("div",{className:"CurrentBook__book",children:[Object(d.jsx)("img",{className:"CurrentBook__book--img",src:a||"https://ruslania.com/pictures/books_photos/30/309288/9785917615868_l.jpg",alt:"Book cover"}),Object(d.jsxs)("div",{className:"CurrentBook__info",children:[Object(d.jsx)("ul",{children:null===(t=s.categories)||void 0===t?void 0:t.map((function(e){return Object(d.jsx)("li",{children:e},c.id)}))}),Object(d.jsx)("h3",{children:s.title}),Object(d.jsx)("ul",{children:s.authors.map((function(e){return Object(d.jsx)("li",{children:e},c.id)}))}),Object(d.jsx)("p",{children:s.description})]})]})]})}),p=function(e){var t=e.allBook,o=e.showMessage,c=e.totalBook,s=Object(l.useState)({}),n=Object(i.a)(s,2),a=n[0],r=n[1],u=Object(l.useState)("list"),j=Object(i.a)(u,2),p=j[0],v=j[1];console.log(a);var m=function(){v("book")},O=function(e){r(e)};return Object(d.jsxs)("div",{className:"BookList",children:[o&&Object(d.jsx)("h2",{className:"BookList__count",children:c>0?"Found ".concat(c," results"):"Not found any book"}),"list"===p&&Object(d.jsx)("ul",{className:"BookList__list",children:t&&t.map((function(e){return Object(d.jsx)("li",{className:"BookList__list--item",children:Object(d.jsx)(b,{book:e,changePage:m,test:O})},e.id)}))}),"book"===p&&Object(d.jsx)(h,{changePage:function(){v("list")},book:a})]})},v=(o(19),function(e){var t=e.searchBook,o=e.setSearchBook,c=e.selectedCategory,s=e.setSelectedCategory,n=e.sortBy,a=e.setSortBy,r=e.getBook,i=e.totalBook,l=e.setLoad,u=e.setShowMessage;return Object(d.jsxs)("div",{children:[Object(d.jsxs)("form",{className:"App__form",onSubmit:function(e){e.preventDefault()},children:[Object(d.jsx)("input",{type:"text",className:"App__form--item App__input",placeholder:"Search book",value:t,onChange:function(e){o(e.target.value)}}),Object(d.jsxs)("div",{children:["Categories ",Object(d.jsxs)("select",{value:c,onChange:function(e){s(e.target.value)},className:"App__form--item",children:[Object(d.jsx)("option",{value:"",children:"All"}),Object(d.jsx)("option",{value:"art",children:"Art"}),Object(d.jsx)("option",{value:"biography",children:"Biography"}),Object(d.jsx)("option",{value:"computers",children:"Computers"}),Object(d.jsx)("option",{value:"history",children:"History"}),Object(d.jsx)("option",{value:"medical",children:"Medical"}),Object(d.jsx)("option",{value:"poetry",children:"Poetry"})]})]}),Object(d.jsxs)("div",{children:["Sorting by ",Object(d.jsxs)("select",{value:n,onChange:function(e){a(e.target.value)},className:"App__form--item",children:[Object(d.jsx)("option",{value:"relevance",children:"Relevance"}),Object(d.jsx)("option",{value:"newest",children:"Newest"})]})]}),Object(d.jsx)("button",{className:"App__form--item",onClick:function(){r(),u(!0),l("load")},children:"Search"})]}),i>0&&Object(d.jsx)("a",{href:"#root",className:"App__buttonUp",children:"\u2191"})]})}),m=function(){var e=Object(l.useState)(""),t=Object(i.a)(e,2),o=t[0],c=t[1],s=Object(l.useState)([]),n=Object(i.a)(s,2),j=n[0],b=n[1],h=Object(l.useState)("The Google Story (2018 Updated Edition)"),m=Object(i.a)(h,2),O=m[0],k=m[1],x=Object(l.useState)(""),f=Object(i.a)(x,2),g=f[0],_=f[1],B=Object(l.useState)("relevance"),N=Object(i.a)(B,2),y=N[0],C=N[1],S=Object(l.useState)(""),w=Object(i.a)(S,2),A=w[0],L=w[1],M=Object(l.useState)(!1),P=Object(i.a)(M,2),I=P[0],R=P[1],E=function(){var e=Object(r.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(O,y,g);case 2:(t=e.sent)&&L("finish"),b(t.items),c(t.totalItems);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsxs)("div",{className:"App__header",children:[Object(d.jsx)("h1",{className:"App__title",children:"Search for books"}),Object(d.jsx)(v,{searchBook:O,setSearchBook:k,selectedCategory:g,setSelectedCategory:_,sortBy:y,setSortBy:C,getBook:E,totalBook:o,setLoad:L,setShowMessage:R})]}),"load"===A&&Object(d.jsx)("div",{className:"App__preloader",children:Object(d.jsx)("div",{className:"App__preloader--loader"})}),"finish"===A&&Object(d.jsx)(p,{allBook:j,showMessage:I,totalBook:o})]})},O=o(25);s.a.render(Object(d.jsx)(O.a,{children:Object(d.jsx)(m,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.b8bd0513.chunk.js.map