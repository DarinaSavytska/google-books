{"version":3,"sources":["api/api.ts","App.tsx","index.js"],"names":["getBooks","title","a","fetch","then","res","json","books","App","useState","searchBook","setSearchBook","selectedCategory","setSelectedCategory","totalBook","setTotalBook","allBook","setAllBook","getBook","found","items","totalItems","onSubmit","event","preventDefault","type","placeholder","value","onChange","target","onClick","selected","map","book","volumeInfo","id","ReactDOM","render","document","getElementById"],"mappings":"mLAAO,SAAeA,EAAtB,kC,4CAAO,WAAwBC,GAAxB,eAAAC,EAAA,sEAEeC,MAAM,iDAAD,OAAkDF,IACxEG,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAHd,cAECC,EAFD,yBAKEA,GALF,4C,iCC6EQC,EA1Ec,WAC3B,MAAoCC,mBAAS,IAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAAgDF,mBAAiB,OAAjE,mBAAOG,EAAP,KAAyBC,EAAzB,KACA,EAAkCJ,mBAA0B,IAA5D,mBAAOK,EAAP,KAAkBC,EAAlB,KACA,EAA8BN,mBAAiB,IAA/C,mBAAOO,EAAP,KAAgBC,EAAhB,KAUMC,EAAO,uCAAG,4BAAAhB,EAAA,sEACMF,EAASU,GADf,OACRS,EADQ,OAGdF,EAAWE,EAAMC,OACjBL,EAAaI,EAAME,YAJL,2CAAH,qDAWb,OACE,gCACE,kDAEA,uBACEC,SAAU,SAACC,GACTA,EAAMC,iBACNb,EAAc,KAHlB,UAME,uBACEc,KAAK,OACLC,YAAY,cACZC,MAAOjB,EACPkB,SAjCY,SAACL,GACnBZ,EAAcY,EAAMM,OAAOF,UAmCvB,wBACEG,QAAS,WACPZ,KAFJ,oBAQA,yBACES,MAAOf,EACPgB,SA1Ce,SAACL,GACtBV,EAAoBU,EAAMM,OAAOF,QAuC7B,UAIE,wBAAQA,MAAM,GAAGI,UAAQ,EAAzB,iBACA,wBAAQJ,MAAM,MAAd,iBACA,wBAAQA,MAAM,YAAd,uBACA,wBAAQA,MAAM,YAAd,uBACA,wBAAQA,MAAM,UAAd,qBACA,wBAAQA,MAAM,UAAd,qBACA,wBAAQA,MAAM,SAAd,0BAIJ,6BACGb,EAAY,EAAZ,gBAAyBA,EAAzB,YAA+C,uBAElD,6BACGE,GAAWA,EAAQgB,KAAI,SAAAC,GAAI,OAAI,6BAAmBA,EAAKC,WAAWjC,OAA1BgC,EAAKE,aCpEtDC,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.d74bb675.chunk.js","sourcesContent":["export async function getBooks(title: string) {\r\n  // добавить обработку ошибок\r\n  const books = await fetch(`https://www.googleapis.com/books/v1/volumes?q=${title}`)\r\n    .then(res => res.json())\r\n\r\n  return books;\r\n}\r\n","import React, { useState } from 'react';\nimport { getBooks } from './api/api';\n\nexport const App: React.FC = () => {\n  const [searchBook, setSearchBook] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState<string>('all')\n  const [totalBook, setTotalBook] = useState<string | number>('')\n  const [allBook, setAllBook] = useState<Book[]>([]);\n\n  const handleInput = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchBook(event.target.value);\n  };\n\n  const handleSelected = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    setSelectedCategory(event.target.value);\n  };\n\n  const getBook = async () => {\n    const found = await getBooks(searchBook);\n\n    setAllBook(found.items);\n    setTotalBook(found.totalItems)\n  };\n\n  // const bookForSearch = () => {\n  //   const categoryBooks = allBook.filter(book => book.volumeInfo.categories.find(cata => cata === selectedCategory))\n  // };\n\n  return (\n    <div>\n      <h1>Search for books</h1>\n\n      <form\n        onSubmit={(event) => {\n          event.preventDefault();\n          setSearchBook('');\n        }}\n      >\n        <input\n          type=\"text\"\n          placeholder=\"Search book\"\n          value={searchBook}\n          onChange={handleInput}\n        />\n\n        <button\n          onClick={() => {\n            getBook();\n          }}\n        >\n          Search\n        </button>\n\n        <select\n          value={selectedCategory}\n          onChange={handleSelected}\n        >\n          <option value=\"\" selected>All</option>\n          <option value=\"art\">Art</option>\n          <option value=\"biography\">Biography</option>\n          <option value=\"computers\">Computers</option>\n          <option value=\"history\">History</option>\n          <option value=\"medical\">Medical</option>\n          <option value=\"poetry\">Poetry</option>\n        </select>\n      </form>\n\n      <h2>\n        {totalBook > 0 ? `Found ${totalBook} results` : 'Not found any book'}\n      </h2>\n      <ul>\n        {allBook && allBook.map(book => <li key={book.id}>{book.volumeInfo.title}</li>)}\n      </ul>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}